##### 0806

创建模型功能完整表映射。

sqlalchemy 每张表必须定义主键， 否则无法映射。

```
Mapper Mapper|User_Model_Type|user_model_type could not assemble any primary key columns for mapped table 'user_model_type' # 此错误极有可能就是没有主键引起的
```

string 类型必须设置长度。

外键设置出错， 无法创建外键表：Cannot add foreign key constraint。

``` python
# 从sqlalchemy 中导入ForeignKey
# 从sqlalchemy 中导入relationship
# 在每张表后面增加一个字段使用relationship

name = relationship('建立的类名')

# 在关联表中 使用ForeignKey

name = Column(Integer, ForeignKey('数据库表名.关联字段名称'))
# 无法迁移。
```

手动创建外键， 在数据库中增加。

编写数据获取流程，返回初始查询数据。

添加路径测试， 出现无法加载情况。jupyterlab 页面停留在启动页面， 无法加载内容。



##### 0807

下载notebook 源码， 对比操作。

删除生成的静态文件， schemas, staging  中的no_model以及build文件，static目录。 在此执行启动， 生成文件，就可以进入了。

修改代码错误， 测试数据。调整数据返回结构。



```
# 添加子类进入父类。
	...: for child_type in child_list:
    ...:     child_dict = []
    ...:     
    ...:     if f_type.TID == child_type.Father_ID:
    ...:         child_dict.append({'child_id': child_type.TID, 'child_name': child_type.Type_name})
    ...:         t_dict[child_type.Father_ID]['child'].append(child_dict)
    ...: print(child_dict)
    ...: print(t_dict)

```

##### 0808

添加完成model 类型接口。 返回数据。

完成gitlab 使用文档。详情见--》 gitlab.md